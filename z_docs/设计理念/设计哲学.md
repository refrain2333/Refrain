# Refrain - 设计理念

> *"Every great code change is a refrain — iterative, refined, restrained."*
> *每一次伟大的代码变更都是一段「副歌」—— 往复打磨，精致且克制。*

---

## 名字由来

**Refrain** `/rɪˈfreɪn/` 拥有双重灵魂：

1. **副歌（Noun）** — 音乐中被反复吟唱的部分。代码不是一次性消耗品，而是需要反复打磨的艺术品。
2. **克制（Verb）** — 行动中三思而后行。AI 必须被关在安全笼子里，拒绝不可控的修改。

---

## 核心价值观

### [ITERATE] 往复打磨

```
Generate → Review → Refine → Repeat
```

代码修改是循环往复的过程，每次编辑都是一次「副歌」。

### [RESTRAIN] 克制有度

```
Dry-run by default → Confirm to Apply
```

我们反对：
- 黑盒修改
- 无确认覆盖
- 失控的自动化

我们倡导：
- Diff 透明展示
- 用户明确确认
- 对代码的敬畏

---

## 设计原则

1. **慢即是快** — 专注原子化修改，一次只做一件事，但把它做到完美
2. **透明至上** — Diff 是唯一的真理，任何字节写入前必须用户确认
3. **人机协奏** — 人类是指挥家，AI 提供旋律，人类决定节奏

---

## 交互设计

### 仪式感：完整命令

用于重大重构和配置修改。

```bash
refrain edit main.py "重构鉴权逻辑"
```

### 流畅感：简短命令

用于日常高频流。

```bash
rf edit main.py "优化类型提示"
```

双入口设计平衡仪式与效率。`rf` 暗合"同频"之意——开发者与 AI 思维同频。

---

## 我们的承诺

1. **不伤害** — 绝不覆盖现有文件，所有修改先进入预演区
2. **上下文感知** — 理解项目结构和代码韵律，像老练的结对伙伴
3. **可回溯** — 任何修改都可撤销，随时回到上一版本

---

## 愿景

Refrain 不只是工具，是对"AI 编程泡沫"的冷静回应。

当开发者输入 `rf` 时，他们感受到的是创作的节奏，而非机器的冰冷。我们让代码回归理性，让修改回归审慎。

**Let's refrain the code, together.**

---


*Design v1.0 · 2026 January*
